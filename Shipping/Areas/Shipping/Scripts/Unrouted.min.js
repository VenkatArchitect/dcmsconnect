$(function(){$.widget("ui.selectable",$.ui.selectable,{_mouseStart:function(a){a.ctrlKey=true;this._super(a)},_mouseDrag:function(a){a.ctrlKey=true;this._super(a)},_mouseStop:function(a){a.ctrlKey=true;this._super(a)},_trigger:function(b,a,c){if(b=="selecting"){$(c.selecting).addClass("ui-selected")}this._super(b,a,c)}})});$(document).ready(function(){$("table thead input:checkbox").click(function(c){var b=$("tbody tr.ui-selectee",$(this).closest("table"));if($(this).is(":checked")){b.filter(":not(.ui-selected,tr.ui-state-disabled)").addClass("ui-selected").find("input:checkbox").attr("checked","checked")}else{b.filter(".ui-selected").removeClass("ui-selected").find("input:checkbox").removeAttr("checked")}a()});$("#cbShowUnavailableBucket").change(function(b){$("#frmShowUnavailableBucket").submit()});function a(){var b=$("tbody tr.ui-selected").not(".text-changed");if(b.length>=0){$("span.spnPOSelected").text("Total : "+b.length+" POs selected")}}$("#tbAtsDate").datepicker({showOn:"button",buttonImage:$("#tbAtsDate").attr("data-calendar-img"),buttonImageOnly:true,dateFormat:"m/d/yy",onSelect:function(){$(this).focus()},numberOfMonths:2,beforeShowDay:function(c){var b=null;$.each(_atsDates,function(e,f){if(f.date==c.getFullYear()*10000+(c.getMonth()+1)*100+c.getDate()){b=f;return false}});var d="";if(c.getDay()==0||c.getDay()==6){d="weekend-day"}if(b){return[true,d+" ui-selected","This ATS date has "+(b.count).toString()+" POs for routing"]}else{return[true,d]}}});$(".tbody").selectable({filter:"tr",cancel:"a,tr.ui-state-disabled",stop:function(b,c){$("tr",this).each(function(){if($(this).is(".ui-selected")){$("input:checkbox",this).attr("checked","checked")}else{$("input:checkbox",this).removeAttr("checked")}});a()}}).end().tooltip({content:function(){return $(this).next().html()},items:"span.ui-icon.ui-icon-alert"});$("#quicklist").on("click",'a[href^="#"]',function(b){$("a",b.delegateTarget).removeClass("ui-state-highlight");$(this).addClass("ui-state-highlight");$("table caption").removeClass("ui-state-highlight");$("caption",$(this).attr("href")).addClass("ui-state-highlight")});$("#divAtsDate").dialog({dialogClass:"dlg-atsdate",resizable:false,height:150,width:233,closeOnEscape:false,position:{my:"right center",at:"right-20% center+10%"},open:function(b,c){$(".ui-dialog-titlebar-close").hide()},buttons:[{text:"Assign",id:"btnAssign",click:function(d,e){var b=$("#frmAtsDate");var c=$("table tbody input:checkbox:checked");if($("#cbElectronicEdi").is(":checked")){$("#cbElectronicEdi").val(true)}if(c.length==0){alert("Please select POs to route.");return}c.appendTo(b);b.submit()}}]})});