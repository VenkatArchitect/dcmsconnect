$(document).ready(function(){$("#tbNewStyle").focus();$("tr").tooltip({position:{my:"left bottom",at:"left top",using:function(c,b){$(this).css(c);$("<div>").addClass("arrow").addClass(b.vertical).addClass(b.horizontal).appendTo(this)}},content:function(){return $("#addSkuTip").html()},items:"#trAddSku"}).tooltip("open");var a;$("#divSkuList").on("keypress","input",function(b){if(b.which==$.ui.keyCode.ENTER){$("#btnAddSku").click();a=b.target.id;b.preventDefault()}}).on("focus","input:text",function(b){this.select()}).on("click","tbody tr span.ui-icon-close",function(c){var b=$(this).closest("tr");var f=[b.attr("data-style-editable"),b.attr("data-color-editable"),b.attr("data-dimension-editable"),b.attr("data-skusize-editable")].join(",");var d=$(this).attr("data-pulled-cartons");if(d>0&&!confirm(d+" cartons containing SKU "+f+" have been already pulled. They will no longer be associated with this request. Remove this SKU anyway?")){return}$.ajax({url:$(this).attr("data-href"),type:"post",cache:false}).done(function(e,h,g){$("#divSkuList").html(e);$.validator.unobtrusive.parse("#divSkuList")}).fail(function(g,h,e){alert(g.responseText)})}).on("click","tbody tr:not(.ui-state-highlight)",function(c){$("tr.ui-state-highlight",c.delegateTarget).removeClass("ui-state-highlight");$(this).addClass("ui-state-highlight");var b=$(this);$("#trAddSku input[data-source-attr]").val(function(d,e){return b.attr($(this).attr("data-source-attr"))}).filter("#tbPieces").focus()}).on("click","#btnAddSku:not(.ui-state-disabled)",function(c){var b=$(this).closest("form");if(!b.valid()){return false}$(this).addClass("ui-state-disabled");$.ajax({url:b.attr("action"),type:"POST",data:b.serialize(),context:c}).done(function(d,f,e){$(this.delegateTarget).html(d);if(a&&a!="tbPieces"){$("#"+a).focus()}else{$("#tbNewStyle").focus()}a=null}).fail(function(e,f,d){alert(e.responseText)});return false})});$(document).ready(function(){$("#btnAssign").button({icons:{primary:"ui-icon-plus"}}).click(function(a){return confirm("Are you sure, you want to assign cartons to request?")});$("#btnUnAssign").button({icons:{primary:"ui-icon-minus"}}).click(function(a){return confirm("Are you sure, you want to unassign cartons from request?")})});