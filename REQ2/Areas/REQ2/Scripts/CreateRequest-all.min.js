$(document).ready(function(){$("#pullWhatOptions").on("click","a:first",function(b){$("#fsFilters").show(500);$(this).hide().next().show()}).on("click","a:eq(1)",function(b){$("#fsFilters").hide(500);$(this).hide().prev().show()});$("#reworkOptions").on("click","a:first",function(b){$("#fsRework").show(500);$(this).hide().next().show()}).on("click","a:eq(1)",function(b){$("#fsRework").hide(500);var c=$("span",this).toggle().is(":visible");$("#divReworkMessage").toggle(!c&&$("#cbIsConversionRequest").is(":checked"));$(this).hide().prev().show()});$("#btnCreateRequest").button({icons:{primary:"ui-icon-plus"}});$("#btnSaveRequest").button({icons:{primary:"ui-icon-disk"}});$("#btnGo").button({icons:{secondary:"ui-icon-search"}}).click(function(b){if($("#frmSearch input:text").val()==""){$("#frmSearch div").html("Please enter the valid Request ID").removeClass("validation-summary-valid").addClass("validation-summary-errors");return false}});$("#tbCartonDate").datepicker({showOn:"button",buttonImage:$("#tbCartonDate").attr("data-img-url"),buttonImageOnly:true,onSelect:function(){this.focus()}});$("#ddlBuilding").change(function(){if($(this).val()){var b=$(this).attr("data-source-url").replace("X",$(this).val());$.getJSON(b).done(function(c){a($("#ddlSourceArea"),c,true,false);a($("#ddlDestArea"),c,false,$("#cbIsConversionRequest").is(":checked"))}).fail(function(c){alert(c.responseText)})}else{a($("#ddlSourceArea"),null,true,false);a($("#ddlDestArea"),null,false,$("#cbIsConversionRequest").is(":checked"))}});function a(b,d,e,f){$('option[value!=""]',b).remove();if(d){b.append($.map(d,function(i){if(i.Numbered==e&&i.ReworkArea==f){if(!e||!d.Count){var h=$("<option></option>").text(i.Text).attr({value:i.Value});return h}}})).prop("disabled",false);var c=$("option",b);switch(c.length){case 1:b.append($("<option></option>").remove().text("No reasonable areas found").prop("selected",true).css("color","red")).prop("disabled",true);break;case 2:b.val(c[1].value);break;default:var g=b.attr("data-selected-areaid");if(g&&$("option[value="+g+"]",b).length>0){b.val(g)}break}}}$("#cbIsConversionRequest").on("change",function(b){$("#ddlBuilding").change();$("#divReworkMessage").toggle()});if($('select[data-selected-areaid!=""]').length>0){$("#ddlBuilding").change()}});