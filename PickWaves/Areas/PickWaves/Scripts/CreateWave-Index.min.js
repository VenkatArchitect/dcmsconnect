$.widget("custom.pickslipmatrix",{options:{refreshing:null,refreshed:null,selected:null},_create:function(){this._on({"change th select":function(){return this._trigger("refreshing")===!1?!1:(this.element.addClass("ui-state-disabled").load($("div[data-url]:first",this.element).attr("data-url"),$("input,select",this.element).serialize(),$.proxy(function(n,t,i){t=="error"&&alert("Sorry but there was an error: "+i.status+" "+i.statusText+". Refresh the page.");this.self.element.removeClass("ui-state-disabled");this.self._trigger("refreshed")},{self:this})),!0)},"click td.ui-selectable":function(n){this._selectTd(n.target,n)},"keypress td.ui-selectable":function(n){n.which==$.ui.keyCode.SPACE&&(this._selectTd(n.target,n),n.preventDefault())}})},_selectTd:function(n,t){$("td.ui-state-highlight",this.element).removeClass("ui-state-highlight");var i=$(n).closest("tr");this._trigger("selected",t,{rowValue:$("input:radio",i).prop("checked",!0).val(),colValue:$("thead tr.dc-header input:radio",this.element).eq($("td",i).index(n)-2).prop("checked",!0).val(),td:n});$(n).addClass("ui-state-highlight").focus()},_refresh:function(){},_destroy:function(){},_setOptions:function(){this._superApply(arguments);this._refresh()},_setOption:function(n,t){this._super(n,t)},dimRowDisplayName:function(){return $("div[data-row-dimension]",this.element).attr("data-row-dimension")},dimColDisplayName:function(){return $("div[data-col-dimension]",this.element).attr("data-col-dimension")}});$(document).ready(function(){$("#btnCreateBucket").button();$("#matrixPartial").on("keypress",".ui-state-highlight",function(n){n.which==$.ui.keyCode.ENTER&&$("#frmMain").submit()}).on("change","th select",function(n){return $(n.delegateTarget).addClass("ui-state-disabled").load($(n.delegateTarget).attr("data-url"),$("input,select",$(n.delegateTarget)).serialize(),$.proxy(function(n,t,i){t=="error"&&alert("Sorry but there was an error: "+i.status+" "+i.statusText+". Refresh the page.");this.self.removeClass("ui-state-disabled")},{self:$(n.delegateTarget)})),!0}).on("click","td.ui-selectable",function(){var n=$("#divDlg"),i=n.dialog("isOpen"),t=this;i?n.one("dialogclose",function(){$(this).dialog("option",{position:{of:$(t),my:"left top",at:"right bottom"}}).dialog("open")}).dialog("close"):n.dialog("option",{position:{of:$(t),my:"left top",at:"right bottom"}}).dialog("open")});$("#divDlg").dialog({show:"slide",hide:"slide",autoOpen:!1,open:function(){$("#dlgMessage").empty()},buttons:[{text:"Ok",click:function(){$("#hfViewPickslips").val("");$("#frmMain").submit()}},{text:"Cancel",click:function(){$(this).dialog("close")}}]}).on("click","#btnViewPickslips",function(){$("#hfViewPickslips").val("Y");$("#frmMain").submit()})});