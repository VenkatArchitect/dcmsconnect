@model DcmsMobile.DcmsRights.ViewModels.UserListViewModel
@{
    ViewBag.Title = "List of all users";    
    var grid = Html.GridFor(m => m.UsersList);
    grid.AddColumn().CellHtml(item => item.RowIndex + 1).CellAttribute("style", "text-align:right");
    grid.AddColumn(m => m.UserName).CellHtml(item => item.Html.ActionLink(item.Model.UserName, MVC_DcmsRights.DcmsRights.Home.ManageUser(item.Model.UserName)))
        .CellHtml(c => c.Html.ViewData.Model.IsLocked, @<text><div class="ui-icon ui-icon-locked"
            title="@string.Format("Account has been locked on {0}", item.Model.LastLockoutDate)" style="display: inline-block">
        </div>@item.Html.ActionLink(item.Model.UserName, MVC_DcmsRights.DcmsRights.Home.ManageUser(item.Model.UserName))</text>);
    grid.AddColumn(m => m.CreateDate);
    grid.AddColumn(m => m.PasswordExpiryDate).CellStyle(m => m.Model.PasswordExpired, "ui-state-error");    
}
@section sidebar {
    <div class="box boxB">
        <div class="boxContent">
            @using (Html.BeginForm(MVC_DcmsRights.DcmsRights.Home.ManageUser(), FormMethod.Get))
            {
                @Html.LabelFor(m => m.Users.UserName)   
                <br />
                @Html.AutocompleteFor(m => m.Users.UserName, Url.Action(MVC_DcmsRights.DcmsRights.AutoComplete.UserAutocomplete()),
                                null, new
                                {
                                    style = "text-transform: uppercase",
                                    size = 10,
                                    name = "userName",
                                    maxlength = 30
                                })
                <input type="submit" value="Go" id="btnGo" />
            }
            @Html.ActionLink("Show locked users", MVC_DcmsRights.DcmsRights.Home.LockedUserList())
        </div>
    </div>
}
<script type="text/javascript" src="@Links_DcmsRights.Areas.DcmsRights.Scripts.DcmsRights_all_js"></script>
<link href="@Links_DcmsRights.Areas.DcmsRights.Content.DcmsRights_all_css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function () {
        $('input:submit').button();
    });
</script>

@grid.GetHtml(
rowStyle : "rowA",
alternatingRowStyle : "rowB",
emptyDataHtml : "No user found."
)

