@model DcmsMobile.CartonAreas.ViewModels.ManagePickingAreaViewModel
@{
    ViewBag.Title = "Manage Picking Area";
}

@section sidebar {
    <div class="box boxA">
        <div class="boxContent">
            <ul>
                <li>
                    @Html.LabelFor(m => m.BuildingId)
                    @Html.DisplayFor(m => m.BuildingId)
                </li>
            </ul>
            @Html.ActionLink("Back to Picking Area List", MVC_CartonAreas.CartonAreas.Home.Actions.PickingArea(Model.BuildingId))
        </div>
    </div>
}
<h2>Picking Area : @Html.DisplayFor(m => m.ShortName)</h2>
<div class="boxContent">
    <table id="tblLocationList">
        <caption>
            @Model.PickingLocations.Count of @Html.DisplayFor(m => m.CountTotalLocations) Locations Displayed
        </caption>
        <thead>
            <tr>
                <th rowspan="2">
                    #
                </th>
                <th rowspan="2">
                    Location
                </th>
                <th colspan="3" style="text-align: center">
                    Assigned
                </th>
                <th rowspan="2">
                    Assigned pieces
                </th>
                <th rowspan="2">
                    space in Location
                </th>
            </tr>
            <tr>
                <th style="text-align: center">
                    SKU
                </th>
                <th>
                    VWH
                </th>
                <th>
                    # Pieces
                </th>
            </tr>
        </thead>
        <tbody>
            @for (var i = 0; i < Model.PickingLocations.Count; i++)
            {
                <tr class="@(i % 2 == 0 ? "rowA" : "rowB")">
                    <td>
                        @(i + 1)
                    </td>
                    <td>
                        @Html.DisplayFor(m => m.PickingLocations[i].LocationId)
                    </td>
                    <td style="white-space: nowrap; text-align: center">
                        @if (Model.PickingLocations[i].AssignedSku != null)
                        {
                            <span title="@Model.PickingLocations[i].AssignedSku.UpcCode">
                                @Html.DisplayFor(m => m.PickingLocations[i].AssignedSku.DisplaySku)
                            </span>
                        }
                    </td>
                    <td style="text-align: right">
                        @Html.DisplayFor(m => m.PickingLocations[i].AssignedVwhId)
                    </td>
                    <td style="text-align: right">
                        @Html.DisplayFor(m => m.PickingLocations[i].TotalPieces)
                    </td>
                    <td style="text-align: right">
                        @Html.DisplayFor(m => m.PickingLocations[i].MaxAssignedPieces)
                    </td>
                    <td style="text-align: right" title="@Model.PickingLocations[i].PercentFullLocation% full">
                        <div class="ui-progressbar ui-widget ui-widget-content ui-corner-all">
                            <div style="width: @Model.PickingLocations[i].PercentFullLocation%" class="ui-progressbar-value ui-widget-header ui-corner-left">
                                @Html.DisplayFor(m => m.PickingLocations[i].TotalPieces)
                            </div>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section scripts {
    <style type="text/css">
        .ui-widget {
            font-size: 1em;
        }

        #tblLocationList .ui-progressbar {
            height: 1.1em;
        }

            #tblLocationList .ui-progressbar .ui-widget-header {
                color: Black;
                font-weight: normal;
            }
    </style>
}