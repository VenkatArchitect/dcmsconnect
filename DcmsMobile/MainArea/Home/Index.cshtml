@model DcmsMobile.MainArea.Home.LauncherViewModel
@{
    ViewBag.Title = "DCMS Connect Home";
    Layout = @MVC_DcmsMobile.SharedViews.Views._layoutMain;
}

@section script {
    <script type="text/javascript">
        var _rcBaseUrl = '@Model.UrlRcBase';
        var _rcItemsUrl = '@Url.Action(MVC_DcmsMobile.Home.RcItems(1))';
    </script>
    <script src="@Links_DcmsMobile.MainArea.Home.Index_js" type="text/javascript"></script>
    <style type="text/css">
        .custom-corners {
            margin-bottom: 1mm;
        }

            .custom-corners .ui-bar {
                -webkit-border-top-left-radius: inherit;
                border-top-left-radius: inherit;
                -webkit-border-top-right-radius: inherit;
                border-top-right-radius: inherit;
            }

            .custom-corners .ui-body {
                border-top-width: 0;
                -webkit-border-bottom-left-radius: inherit;
                border-bottom-left-radius: inherit;
                -webkit-border-bottom-right-radius: inherit;
                border-bottom-right-radius: inherit;
            }
    </style>
}



@for (var i = 0; i < Model.Categories.Count; ++i)
{
    <div data-role="page" id="page_@Model.Categories[i].Id">
        <div data-role="header">
            <h1>@(i + 1). @Html.DisplayFor(m => m.Categories[i].Description)</h1>
            <a class="ui-btn ui-btn-right rclink" style="display:none" href="@Model.UrlRcBase">Release Candidates <span></span></a>
            <div data-role="navbar" class="ui-mini">
                <ul>
                    @for (var j = 0; j < Model.Categories.Count; ++j)
                    {
                        if (i != j)
                        {
                            <li><a href="#page_@Model.Categories[j].Id" data-transition="flip">@(j + 1). @Html.DisplayFor(m => m.Categories[j].Name)</a></li>
                        }
                    }
                </ul>
            </div>
        </div>
        <div class="ui-content">
            <p></p>
            @for (var j = 0; j < Model.Categories[i].MenuItems.Count; ++j)
            {
                <div class="ui-corner-all custom-corners">
                    <div class="ui-bar ui-bar-a">
                        <h3>@(j + 1). @Html.DisplayFor(m => m.Categories[i].MenuItems[j].ShortCut) @Html.DisplayFor(m => m.Categories[i].MenuItems[j].Name)</h3>
                    </div>
                    <div class="ui-body ui-body-a">
                        <div style="display:inline-block; width:70%">
                            @if (Model.Categories[i].MenuItems[j].Mobile)
                            {
                                <img src="@Links_DcmsMobile.MainArea.Home.wifi_jpg" alt="Wifi symbol indicating that the program is mobile optimized" />
                            }
                            @Html.DisplayFor(m => m.Categories[i].MenuItems[j].Description)
                        </div>
                        <div style="display:inline-block">
                            <div class="@Model.Categories[i].MenuItems[j].RouteName ui-mini" data-role="controlgroup" data-type="horizontal">
                                <a href="@Model.Categories[i].MenuItems[j].Url" class="ui-btn ui-icon-carat-r ui-btn-icon-right">
                                    @Html.DisplayFor(m => m.Categories[i].MenuItems[j].ShortCut)
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

    </div>
}

