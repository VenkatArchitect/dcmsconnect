$(document).ready(function(){$("input").keypress(function(n){if(n.keyCode===$.ui.keyCode.ENTER)return!1});$("div[data-edit-dialog]").click(function(n){var t=$($(this).attr("data-edit-dialog")),i,f;if($("tr",this).removeClass("ui-state-highlight"),$(n.target).is(".ui-icon-pencil"))i=$(n.target).closest("table").find("thead > tr > th"),$(n.target).closest("tr").addClass("ui-state-highlight").find("td").each(function(n){var u=i.eq(n).attr("data-name"),r,f,e;u&&(r=$.validator.format("span[data-name='{0}']",u),$(r,t).html($(this).html()),r=$.validator.format("input[name='{0}']",u),f=$(r,t).attr("type"),f=="checkbox"&&(e=$(this).attr("data-val"),e=="True"?$(r,t).attr("checked","checked"):$(r,t).removeAttr("checked","checked")),$(r,t).val($(this).attr("data-val")))}),t.dialog("open");else if($(n.target).is(".ui-icon-close")){$(n.target).closest("tr").addClass("ui-state-highlight");var r={},u=$(n.target).attr("title")+" for ",i=$(n.target).closest("table").find("thead > tr > th");$(n.target).closest("tr").find("td").each(function(n){var f=i.eq(n).attr("data-name"),t;f&&(r[f]=$(this).attr("data-val"));t=i.eq(n).attr("data-display-name");t&&(u+=$.validator.format("{0} : {1}; ",t,$(this).html()))});f=confirm(u);f&&$.ajax({url:$(this).attr("data-delete-ajax-url"),type:"POST",context:this,data:r,statusCode:{200:function(n){$(this).html(n)},203:function(n){$("div[data-valmsg-summary]").html(n).removeClass("validation-summary-valid").addClass("validation-summary-errors")}},error:function(n){alert(n.responseText)}})}}).each(function(){var n=this,t=$($(this).attr("data-edit-dialog"));t.dialog({create:function(){$(this).dialog("option","title",$(this).attr("title"))},open:function(){$("form:first",this).validate().resetForm();$("div.validation-summary-errors").removeClass("validation-summary-errors").addClass("validation-summary-valid")},width:"auto",autoOpen:!1,buttons:[{text:"Ok",click:function(){$("form:first",this).valid()&&$.ajax({url:$("form:first",this).attr("action"),type:"POST",context:this,data:$("form:first",this).serializeArray(),statusCode:{200:function(t){$(n).html(t);$(this).dialog("close")},203:function(n){$("div[data-valmsg-summary]").html(n).removeClass("validation-summary-valid").addClass("validation-summary-errors")}},error:function(n){alert(n.responseText)}})}},{text:"Cancel",click:function(){$(this).dialog("close")}}]})}).each(function(){var i=this,n=$($(this).attr("data-add-dialog")),t;n.dialog({create:function(){$(this).dialog("option","title",$(this).attr("title"))},open:function(){$("input",this).val("").prop("disabled",!1);$("select",this).val("");$("#rbSpecificStyle,#rbSpecificColor").attr("checked","checked");$("#cbIsSpotCheckEnable").is(":checked")&&$("#cbIsSpotCheckEnable").val(!0);$('span[for="tbStyle"]').text("");$('span[for="tbColor"]').text("");$("span#lblStyleDesc,span#lblColorDesc").text("");$("form:first",this).validate().resetForm();$("div.validation-summary-errors").removeClass("validation-summary-errors").addClass("validation-summary-valid")},autoOpen:!1,width:"auto",buttons:[{text:"Add",click:function(){var n=$("form:first",this);if(!n.valid())return!1;$.ajax({url:n.attr("action"),type:"POST",context:this,data:n.serializeArray(),statusCode:{200:function(n){$(i).html(n);$(this).dialog("close")},203:function(n){$("div[data-valmsg-summary]").html(n).removeClass("validation-summary-valid").addClass("validation-summary-errors")}},error:function(n){alert(n.responseText)}})}},{text:"Cancel",click:function(){$(this).dialog("close")}}]});t=$($(this).attr("data-add-button"));t.button().click(function(){n.dialog("open")})});$("#rbAllStyle,#rbAllColors").change(function(){var n=$(this).is(":checked"),t=$(this).attr("data-attr-disabletb");n?($(this).val(!0),$("#"+t).prop("disabled",n).val("All").removeClass("input-validation-error"),$("span[for="+t+"]").text("")):($(this).val(!1),$("#"+t).prop("disabled",n).val(""))});$("#rbSpecificStyle,#rbSpecificColor").change(function(){var n=$(this).is(":checked"),t=$(this).attr("data-attr-enabletb");n&&$("#"+t).prop("disabled",!n).val("")});$("#cbIsSpotCheckEnable,#cbEditIsSpotCheckEnable").change(function(){var n=$(this).is(":checked");n?$(this).val(!0):$(this).val(!1)})}),function(n){n.widget("ui.autocompleteEx",n.ui.autocomplete,{widgetEventPrefix:"autocomplete",_create:function(){var t,i;this.options.source=this.element.attr("data-ac-list-url");t=this;this.options.source=function(i,r){n.ajax({url:t.element.attr("data-ac-list-url"),dataType:"json",data:{term:i.term},success:function(n){r(n)},error:function(n){alert(n.responseText)}})};this.options.autoFocus=!1;this.options.delay=2e3;this.options.minLength=2;n.ui.autocomplete.prototype._create.apply(this,arguments);this.element.dblclick(function(){var n=t.options.minLength;t.options.minLength=0;t.search();t.options.minLength=n});i=t.element.attr("data-ac-validate-url");i&&this.element.rules("add",{remote:{url:t.element.attr("data-ac-validate-url"),async:!1,dataType:"json",beforeSend:function(){t.element.addClass("ui-autocomplete-loading")},dataFilter:function(i){var r=n.parseJSON(i),u;return n.isPlainObject(r)?(t._selectValue(r),JSON.stringify(!0)):(u=n.validator.format("span[data-ac-msg-for='{0}']",t.element.attr("name")),n(u).empty(),i)},complete:function(){t.element.removeClass("ui-autocomplete-loading")},error:function(n){alert(n.responseText)}}})},_trigger:function(t,i,r){var e=n.ui.autocomplete.prototype._trigger.apply(this,arguments),f,u;switch(t){case"select":return this._selectValue(r.item),f=this.element.closest("form").validate(),u=f.previousValue(this.element[0]),u.old=r.item.shortName,u.valid=!0,!1}return e},_selectValue:function(t){this.element.val(t.shortName||t.value).removeClass("input-validation-error");this.element.next().val(t.value);var r=this.element.attr("name"),i=n.validator.format("span[data-ac-msg-for='{0}']",r);n(i).html(t.label);i=n.validator.format("span[data-valmsg-for='{0}']",r);n(i).removeClass("field-validation-error").addClass("field-validation-valid")},clear:function(){this._selectValue({value:"",label:"",shortName:""});var t=this.element.closest("form").validate(),n=t.previousValue(this.element[0]);n.old=null;n.valid=!0}})}(jQuery);$.validator.setDefaults({onkeyup:!1,onfocusout:!1});$(document).ready(function(){$("input[data-ac-list-url]").autocompleteEx()});